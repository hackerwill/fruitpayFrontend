!function(){function e(n){function l(){if(x.el.days.innerHTML="",te)for(var e=0;z>e&&3>e;e++){var t=document.createElement("div");t.setAttribute("class","d-week");for(var n=0;7>n;n++){var a=document.createElement("div"),r=document.createElement("p");r.innerHTML=q[G].dayNames[n],a.appendChild(r),t.appendChild(a)}x.el.days.appendChild(t)}}function d(){[].slice.call(x.el.yearPicker.childNodes).forEach(function(e,t){e.innerHTML="'"+(Y+parseInt(e.getAttribute("data-year"))).toString().substring(2,4)})}function s(){function t(e){function t(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}if("LABEL"===e.target.nodeName){var n=e.target.getAttribute("data-legend-id")?e.target.getAttribute("data-legend-id").split(" "):[];n.length&&n.forEach(function(n){var a=x.el.legend.querySelector('[data-legend-id="'+n+'"]');if("mouseover"==e.type&&a){var r=a.getAttribute("data-color")?t(a.getAttribute("data-color")):null;a.setAttribute("style","background-color:rgba("+r.r+","+r.g+","+r.b+",0.35);")}else a&&a.removeAttribute("style")})}}x.el.tables.innerHTML="";for(var n=0;z>n;n++){var a=document.createElement("div");a.setAttribute("class","d-table");for(var r=0;42>r;r++){var i=document.createElement("input");i.type="checkbox",i.id=e.numInstances+"-"+n+"-d-day-"+r;var l=document.createElement("label");l.setAttribute("for",e.numInstances+"-"+n+"-d-day-"+r);var d=document.createElement("text"),s=document.createElement("span");s.setAttribute("class","d-tooltip"),a.appendChild(i),a.appendChild(l),l.appendChild(d),l.appendChild(s),i.addEventListener(F,function(){le&&event.preventDefault()}),i.addEventListener("change",N)}x.el.tables.appendChild(a)}x.el.tables.addEventListener("mouseover",t),x.el.tables.addEventListener("mouseout",t)}function o(){function e(e){[].slice.call(x.el.tables.querySelectorAll('[data-legend-id*="'+this.getAttribute("data-legend-id")+'"]')).forEach(function(t){"mouseover"==e.type?t.classList.add("legend-hover"):t.classList.remove("legend-hover")})}for(var n=new Date(x.el.tables.childNodes[0].childNodes[0].getAttribute("data-date")),a=new Date(x.el.tables.childNodes[z-1].childNodes[82].getAttribute("data-date")),r=Z.filter(function(e){for(var t=0;t<e.dates.length;t++)if(e.dates[t].start<a&&e.dates[t].end>n)return!0;return!1}),i=[],l=0;l<r.length;l++)if("legend"in r[l]&&r[l].legend){var d=J.querySelector('.d-legend-item[data-legend="'+r[l].legend+'"][data-color="'+r[l].backgroundColor+'"]');if(null==d){var s=document.createElement("p");s.setAttribute("class","d-legend-item"),s.setAttribute("data-legend",r[l].legend),s.setAttribute("data-legend-id",Z.indexOf(r[l])),s.setAttribute("data-color",r[l].backgroundColor);var o=document.createElement("span");o.setAttribute("style","background-color:"+r[l].backgroundColor),r[l].circleClassName&&t(o,r[l].circleClassName),s.appendChild(o),x.el.legend.appendChild(s),s.addEventListener("mouseover",e),s.addEventListener("mouseout",e),i.push(s)}else i.push(d)}[].slice.call(x.el.legend.querySelectorAll(".d-legend-item")).forEach(function(t){i.indexOf(t)<0&&(t.removeEventListener("mouseover",e),t.removeEventListener("mouseout",e),x.el.legend.removeChild(t))})}function c(){u();var e=new Date(x.el.tables.childNodes[0].childNodes[0].getAttribute("data-date")),n=new Date(x.el.tables.childNodes[z-1].childNodes[82].getAttribute("data-date")),a=Z.filter(function(t){for(var a=0;a<t.dates.length;a++)if(t.dates[a].start<n&&t.dates[a].end>e&&t.circleClassName)return!0;return!1});[].slice.call(x.el.querySelectorAll(".d-table input")).forEach(function(e,n){var r=new Date(e.getAttribute("data-date"));a.forEach(function(n){n.dates.forEach(function(a){if(a.start<=r&&a.end>=r){var i=e.nextSibling,l=i.querySelector("text");t(l,n.circleClassName)}})})})}function u(){[].slice.call(x.el.querySelectorAll(".d-table text")).forEach(function(e,t){e.className=""})}function f(e){return e>11?e-=12:0>e&&(e+=12),e}function h(e,t){var n=x.el.querySelectorAll(".d-table"),a=q[G].weekStart;[].slice.call(x.el.querySelectorAll(".d-table")).forEach(function(r,i){var l=new Date(e,t+i,0).getDate(),d=new Date(e,t+i-1,0).getDate(),s=new Date(e,t+i-1,1).getDay();0>s-a?s=7-a:s-=a;var o=q[G].monthNames[f(t-1+i)];r.setAttribute("data-month",o),[].slice.call(r.querySelectorAll(".d-table input")).forEach(function(a,r){var o=a.nextSibling;a.checked=!1,a.removeAttribute("disabled"),o.removeAttribute("style"),o.removeAttribute("data-legend-id"),o.className="";var c=null;if(s>r?(o.childNodes[0].innerHTML=d-(s-r-1),0==i?(c=new Date(e,t+i-2,d-(s-r-1)),o.className="prev"):(c="",o.className="d-hidden",a.setAttribute("disabled",!0))):l+s>r?(c=new Date(e,t+i-1,r-s+1),o.childNodes[0].innerHTML=r-s+1,o.className=""):(o.childNodes[0].innerHTML=r-l-s+1,i==n.length-1?(c=new Date(e,t+i,r-l-s+1),o.className="next"):(c="",o.className="d-hidden",a.setAttribute("disabled",!0))),c instanceof Date){a.setAttribute("data-date",c.toJSON()),-1==Q.indexOf(c.getTime())&&-1==U.indexOf(c.getDay())||a.setAttribute("disabled",!0),(re&&re>c||ie&&c>ie)&&(a.setAttribute("disabled",!0),o.className="d-hidden"),ne&&c.getTime()==(new Date).setHours(0,0,0,0)?o.classList.add("today"):o.classList.remove("today"),ee[c.getTime()]?(o.childNodes[0].setAttribute("data-tooltip",!0),o.childNodes[1].innerHTML=ee[c.getTime()]):(o.childNodes[0].removeAttribute("data-tooltip"),o.childNodes[1].innerHTML="");var u=Z.filter(function(e){for(var t=0;t<e.dates.length;t++)if(c.getTime()>=e.dates[t].start.getTime()&&c.getTime()<=e.dates[t].end.getTime())return!0;return!1});if(u.length>0){var f="",h="";if(u.length>1){var g=Math.round(100/u.length);f="background: linear-gradient(-45deg,";for(var v=0;v<u.length;v++)h+=Z.indexOf(u[v]),v!==u.length-1&&(h+=" "),f+=u[v].backgroundColor+" "+g*v+"%",v!=u.length-1&&(f+=",",f+=u[v].backgroundColor+" "+g*(v+1)+"%,");f+=");"}else f=u[0].backgroundColor?"background:"+u[0].backgroundColor+";":"",h+=Z.indexOf(u[0]);var m=u[0].color?"color:"+u[0].color+";":"";o.setAttribute("style",f+m),o.setAttribute("data-legend-id",h)}}})}),o(),c()}function g(){if(x.el.tables.childNodes.length&&x.el.tables.childNodes[0].childNodes.length){m(),(P>12||1>P)&&(P>12?(Y+=1,P-=12):(Y-=1,P+=12)),ie&&new Date(Y,P-1+z-1,1)>=new Date(ie).setDate(1)?(Y=ie.getFullYear(),P=ie.getMonth()+1-z+1,x.el.header.childNodes[2].setAttribute("style","visibility:hidden")):x.el.header.childNodes[2].removeAttribute("style"),re&&new Date(Y,P-1,1)<=new Date(re).setDate(1)?(Y=re.getFullYear(),P=re.getMonth()+1,x.el.header.childNodes[0].setAttribute("style","visibility:hidden")):x.el.header.childNodes[0].removeAttribute("style");for(var e=0;z>e;e++){var t=P-1+e;t>11?t-=12:0>t&&(t+=12),x.el.monthPicker.childNodes[t].classList.add("current")}h(Y,P),d();var n=q[G].monthNames[P-1],a="";if(z>1){a+=" - ";var r=P-1+z-1;r>11?r-=12:0>r&&(r+=12),a+=q[G].monthNames[r]}var i=P-1+z-1>11?Y.toString().substring(2,4)+"/"+(Y+1).toString().substring(2,4):Y.toString().substring(2,4);x.el.header.childNodes[1].childNodes[0].innerHTML=n+a,x.el.header.childNodes[1].childNodes[1].innerHTML=i,x.el.yearPicker.querySelector('[data-year="0"]').classList.add("current"),P-1+z-1>11&&x.el.yearPicker.querySelector('[data-year="1"]').classList.add("current"),v()}}function v(){if(O.forEach(function(e){var t=x.el.querySelector('[data-date="'+e.toJSON()+'"]');t&&(t.checked=!0)}),x.el.tables.classList.remove("before"),H&&O.length>1){var e=new Date(Y,P-1,1),t=O.sort(function(e,t){return e.getTime()-t.getTime()}),n=x.el.querySelector('[data-date="'+t[0].toJSON()+'"]');!n&&e>=new Date(t[0].getFullYear(),t[0].getMonth(),1)&&e<=new Date(t[1].getFullYear(),t[1].getMonth(),1)&&x.el.tables.classList.add("before")}}function m(){[].slice.call(x.el.querySelectorAll(".d-table input")).forEach(function(e){e.checked=!1}),[].slice.call(x.el.monthPicker.querySelectorAll(".current")).forEach(function(e){e.classList.remove("current")}),[].slice.call(x.el.yearPicker.querySelectorAll(".current")).forEach(function(e){e.classList.remove("current")})}function b(){P+=z,g()}function p(){P-=z,g()}function y(e,t){e=new Date(e),e.setHours(0,0,0,0);var n=x.el.querySelector('[data-date="'+e.toJSON()+'"]');H&&n&&n.checked&&n.classList.add("single"),n&&!n.checked&&(n.checked=!0),O.push(e),K&&!t&&K.apply(e,[!0])}function D(e,t){e=new Date(e),e.setHours(0,0,0,0);var n=x.el.querySelector('[data-date="'+e.toJSON()+'"]');n&&(n.classList.remove("single"),n.checked&&(n.checked=!1)),O=O.filter(function(t){return t.getTime()!=e.getTime()}),K&&!t&&K.call(e,!1)}function L(e){O.forEach(function(t){D(t,e)})}function N(e){var t=this,n=new Date(t.getAttribute("data-date"));if(t.classList.remove("single"),!le){if(H&&x.el.tables.classList.remove("before"),t.checked){if(I&&O.length>I-1){var a=O.length;for(a;a>I-1;a--)D(O[0])}if(H&&O.length){var r=x.el.querySelector('[data-date="'+O[0].toJSON()+'"]');!r&&n>O[0]&&x.el.tables.classList.add("before")}O.push(n),X&&x.hide()}else H&&1==O.length&&O[0].getTime()==n.getTime()?(y(n),t.classList.add("single")):O=O.filter(function(e){return e.getTime()!=n.getTime()});K&&K.call(n,t.checked)}}function w(e){e?(H=!0,x.el.tables.classList.add("range")):(H=!1,x.el.tables.classList.remove("range"))}function k(e){x.inline||x.container!==document.body||document.body.classList.add("d-noscroll"),S(e);var t=function(){x.el.classList.remove("d-show"),x.el.calendar.removeEventListener(a(),t)};x.el.calendar.addEventListener(a(),t),x.el.classList.add("d-show"),J.appendChild(x.el),j=!0,ae&&(P=ae.getMonth()+1,Y=ae.getFullYear()),g()}function A(){document.body.classList.remove("d-noscroll");var e=function(){x.el.parentNode.removeChild(x.el),j=!1,x.el.classList.remove("d-hide"),"function"==typeof W&&W.apply(x),x.el.removeEventListener(a(),e)};x.el.addEventListener(a(),e),x.el.classList.add("d-hide")}function E(){x.el.header.childNodes[0].addEventListener(F,p),x.el.header.childNodes[2].addEventListener(F,b),x.el.header.childNodes[1].childNodes[0].addEventListener(F,function(){x.el.monthPicker.classList.contains("d-show")?x.el.monthPicker.classList.remove("d-show"):x.el.monthPicker.classList.add("d-show"),x.el.yearPicker.classList.remove("d-show")}),x.el.header.childNodes[1].childNodes[1].addEventListener(F,function(){d(),x.el.yearPicker.classList.contains("d-show")?x.el.yearPicker.classList.remove("d-show"):x.el.yearPicker.classList.add("d-show"),x.el.monthPicker.classList.remove("d-show")}),x.el.button.addEventListener(F,A),x.el.overlay.addEventListener(F,function(){_&&x.hide()}),[].slice.call(x.el.monthPicker.childNodes).forEach(function(e){e.addEventListener(F,function(){P=parseInt(this.getAttribute("data-month")),g(),x.el.monthPicker.classList.remove("d-show")})}),[].slice.call(x.el.yearPicker.childNodes).forEach(function(e){e.addEventListener(F,function(){Y+=parseInt(this.getAttribute("data-year")),g(),x.el.yearPicker.classList.remove("d-show")})});var e=0,t=0;x.el.calendar.addEventListener("touchstart",function(t){e=t.changedTouches[0].clientX||t.originalEvent.changedTouches[0].clientX}),x.el.calendar.addEventListener("touchmove",function(n){t=n.changedTouches[0].clientX-e||n.originalEvent.changedTouches[0].clientX-e,n.preventDefault()}),x.el.calendar.addEventListener("touchend",function(e){t>50?p():-50>t&&b(),t=0})}function S(e){for(var t in e)t in x&&(x[t]=e[t])}function M(){x.el=document.createElement("div"),x.el.id="Datepickk",x.el.classList.add(i().type),x.el.innerHTML=r,x.el.calendar=x.el.childNodes[1],x.el.titleBox=x.el.childNodes[0],x.el.button=x.el.childNodes[3],x.el.header=x.el.calendar.childNodes[0],x.el.monthPicker=x.el.calendar.childNodes[1],x.el.yearPicker=x.el.calendar.childNodes[2],x.el.tables=x.el.calendar.childNodes[4],x.el.days=x.el.calendar.childNodes[3],x.el.overlay=x.el.childNodes[4],x.el.legend=x.el.childNodes[2],S(n),s(),l(),E(),V&&k(),null!=window.FastClick&&FastClick.attach(x.el)}function T(){return new Date(Y,P-1,1)}function C(e){e=new Date(e),P=e.getMonth()+1,Y=e.getFullYear(),g()}e.numInstances=(e.numInstances||0)+1;var x=this,F="click",O=[],Y=(new Date).getFullYear(),P=(new Date).getMonth()+1,q={no:{monthNames:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],dayNames:["ma","ti","on","to","fr","lø","sø"],weekStart:1},en:{monthNames:["january","february","march","april","may","june","july","august","september","october","november","december"],dayNames:["su","mo","tu","we","th","fr","sa"],weekStart:0},de:{monthNames:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],dayNames:["Mo","Di","Mi","Do","Fr","Sa","So"],weekStart:1},zh_TW:{monthNames:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayNames:["一","二","三","四","五","六","日"],weekStart:0}},H=!1,I=null,J=document.body,j=!1,z=1,X=!1,B=null,R=null,W=null,$=null,_=!0,V=!1,G="en",K=null,Q=[],U=[],Z=[],ee={},te=!0,ne=!0,ae=null,re=null,ie=null,le=!1;return x.show=k,x.hide=A,x.selectDate=y,x.unselectAll=L,x.unselectDate=D,Object.defineProperties(x,{selectedDates:{get:function(){return O.sort(function(e,t){return e.getTime()-t.getTime()})}},range:{get:function(){return H},set:function(e){w(e),e&&(I=2)}},button:{get:function(){return B},set:function(e){B="string"==typeof e?e:null,x.el.button.innerHTML=B?B:""}},title:{get:function(){return R},set:function(e){R="string"==typeof e?e:null,x.el.titleBox.innerText=R?R:""}},lang:{get:function(){return G},set:function(e){e in q?(G=e,l(),g()):console.error("Language not found")}},months:{get:function(){return z},set:function(e){"number"==typeof e&&e>0?(z=e,l(),s(),g(),1==z?x.el.classList.remove("multi"):x.el.classList.add("multi")):console.error("months must be a number > 0")}},isOpen:{get:function(){return j}},closeOnSelect:{get:function(){return X},set:function(e){X=!!e}},disabledDays:{get:function(){return U},set:function(e){if(e instanceof Array)for(var t=0;t<e.length;t++)"number"==typeof e[t]&&U.push(e[t]);else"number"==typeof e?U=[e]:e||(U=[]);g()}},disabledDates:{get:function(){return Q.map(function(e){return new Date(e)})},set:function(e){e instanceof Array?e.forEach(function(e){e instanceof Date&&Q.push(new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime())}):e instanceof Date?Q=[new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()]:e||(Q=[]),g()}},highlight:{get:function(){return Z},set:function(e){if(e instanceof Array)e.forEach(function(e){if(e instanceof Object){var t={};t.dates=[],"start"in e?t.dates.push({start:new Date(e.start.getFullYear(),e.start.getMonth(),e.start.getDate()),end:"end"in e?new Date(e.end.getFullYear(),e.end.getMonth(),e.end.getDate()):new Date(e.start.getFullYear(),e.start.getMonth(),e.start.getDate())}):"dates"in e&&e.dates instanceof Array&&e.dates.forEach(function(e){t.dates.push({start:new Date(e.start.getFullYear(),e.start.getMonth(),e.start.getDate()),end:"end"in e?new Date(e.end.getFullYear(),e.end.getMonth(),e.end.getDate()):new Date(e.start.getFullYear(),e.start.getMonth(),e.start.getDate())})}),t.color=e.color,t.backgroundColor=e.backgroundColor,t.legend="legend"in e?e.legend:null,t.circleClassName=e.circleClassName,Z.push(t)}});else if(e instanceof Object){var t={};t.dates=[],"start"in e?t.dates.push({start:new Date(e.start.getFullYear(),e.start.getMonth(),e.start.getDate()),end:"end"in e?new Date(e.end.getFullYear(),e.end.getMonth(),e.end.getDate()):new Date(e.start.getFullYear(),e.start.getMonth(),e.start.getDate())}):"dates"in e&&e.dates instanceof Array&&e.dates.forEach(function(e){t.dates.push({start:new Date(e.start.getFullYear(),e.start.getMonth(),e.start.getDate()),end:"end"in e?new Date(e.end.getFullYear(),e.end.getMonth(),e.end.getDate()):new Date(e.start.getFullYear(),e.start.getMonth(),e.start.getDate())})}),t.color=e.color,t.backgroundColor=e.backgroundColor,t.legend="legend"in e?e.legend:null,Z.push(t)}else e||(Z=[]);g()}},onClose:{set:function(e){W=e}},onSelect:{set:function(e){K=e}},today:{get:function(){return ne},set:function(e){ne=!!e}},daynames:{get:function(){return te},set:function(e){te=!!e,l()}},fullscreen:{get:function(){return x.el.classList.contains("fullscreen")},set:function(e){e?x.el.classList.add("fullscreen"):x.el.classList.remove("fullscreen")}},locked:{get:function(){return le},set:function(e){e?(le=!0,x.el.tables.classList.add("locked")):(le=!1,x.el.tables.classList.remove("locked"))}},maxSelections:{get:function(){return I},set:function(e){I="number"!=typeof e||H?H?2:null:e}},onConfirm:{set:function(e){"function"==typeof e?($=e.bind(x),x.el.button.addEventListener(F,$)):e||(x.el.button.removeEventListener(F,$),$=null)}},closeOnClick:{get:function(){return _},set:function(e){_=!!e}},tooltips:{get:function(){var e=[];for(key in ee)e.push({date:new Date(parseInt(key)),text:ee[key]});return e},set:function(e){e instanceof Array?e.forEach(function(e){e.date&&e.text&&e.date instanceof Date&&(ee[new Date(e.date.getFullYear(),e.date.getMonth(),e.date.getDate()).getTime()]=e.text)}):e instanceof Object?e.date&&e.text&&e.date instanceof Date&&(ee[new Date(e.date.getFullYear(),e.date.getMonth(),e.date.getDate()).getTime()]=e.text):e||(ee=[]),g()}},currentDate:{get:T,set:C},setDate:{set:C},startDate:{get:function(){return ae},set:function(e){e?ae=new Date(e):(ae=null,Y=(new Date).getFullYear(),P=(new Date).getMonth()+1),g()}},minDate:{get:function(){return re},set:function(e){re=new Date(e),g()}},maxDate:{get:function(){return ie},set:function(e){ie=new Date(e),g()}},container:{get:function(){return J},set:function(e){if(e instanceof String){var t=document.querySelector(e);t?(J=t,J!=document.body?x.el.classList.add("wrapped"):x.el.classList.remove("wrapped")):console.error("Container doesn't exist")}else e instanceof HTMLElement?(J=e,J!=document.body?x.el.classList.add("wrapped"):x.el.classList.remove("wrapped")):console.error("Invalid type")}},inline:{get:function(){return V},set:function(e){e?(V=!0,x.el.classList.add("inline")):(V=!1,x.el.classList.remove("inline"))}}}),M(),g(),Object.freeze(x)}function t(e,t){var a=e.className?e.className:"";n(a,t)||(a=a.concat(a.legnth?" ":"",t)),e.className=a}function n(e,t){var n=new RegExp("^"+t+"$");return n.test(e)}function a(){var e,t=document.createElement("fakeelement"),n={animation:"animationend",OAnimation:"oanimationend",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd","":"MSAnimationEnd"};for(e in n)if(void 0!==t.style[e])return n[e]}var r='<div class="d-title"></div><div class="d-calendar"><div class="d-header"><i id="d-previous"></i><p><span class="d-month"></span><span class="d-year"></span></p><i id="d-next"></i></div><div class="d-month-picker"><div data-month="1">1</div><div data-month="2">2</div><div data-month="3">3</div><div data-month="4">4</div><div data-month="5">5</div><div data-month="6">6</div><div data-month="7">7</div><div data-month="8">8</div><div data-month="9">9</div><div data-month="10">10</div><div data-month="11">11</div><div data-month="12">12</div></div><div class="d-year-picker"><div data-year="-5"></div><div data-year="-4"></div><div data-year="-3"></div><div data-year="-2"></div><div data-year="-1"></div><div data-year="0"></div><div data-year="1"></div><div data-year="2"></div><div data-year="3"></div><div data-year="4"></div><div data-year="5"></div></div><div class="d-weekdays"></div><div class="d-tables"></div></div><div class="d-legend"></div><button class="d-confirm"></button><div class="d-overlay"></div>',i=function(){var e,t,n={type:null,version:null},a=navigator.userAgent,r=a.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return t=a.match(/(iphone|ipad)\s+OS\s+([\d+_]+\d+)/i)||[],/trident/i.test(r[1])?(e=/\brv[ :]+(\d+)/g.exec(a)||[],n.type="MSIE",n.version=parseInt(e[1]),n):"Chrome"===r[1]&&(e=a.match(/\bOPR\/(\d+)/),null!=e)?"Opera "+e[1]:t[1]?n={type:"iOS",version:t[2]}:(r=r[2]?[r[1],r[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(e=a.match(/version\/(\d+)/i))&&r.splice(1,1,e[1]),n.type=r[0],n.version=parseInt(r[1]),n)};"function"==typeof define&&define.amd?define("Datepickk",e):"object"==typeof exports?module.exports=e:window.Datepickk=e}();
//# sourceMappingURL=datepickk.min.js.map
