{"version":3,"sources":["datepickk.js"],"names":["Datepickk","args","generateDaynames","that","el","days","innerHTML","daynames","x","months","weekEl","document","createElement","setAttribute","i","dayEl","dayTextEl","languages","lang","dayNames","appendChild","generateYears","slice","call","yearPicker","childNodes","forEach","node","index","currentYear","parseInt","getAttribute","toString","substring","generateInputs","highlightLegend","e","hexToRgb","hex","result","exec","r","g","b","target","nodeName","legendIds","split","length","legendId","element","legend","querySelector","type","color","removeAttribute","tables","container","input","id","numInstances","label","text","tooltip","addEventListener","eventName","locked","event","preventDefault","inputChange","generateLegends","hoverLegend","querySelectorAll","this","classList","add","remove","start","Date","end","_highlights","highlight","filter","m","dates","legends","l","oldLegend","backgroundColor","legendItem","indexOf","legendItemPoint","circleClassName","addClass","push","item","removeEventListener","removeChild","setCircleClassName","removeAllDayTextClass","inputEl","date","_highlightEl","dateEl","labelEl","nextSibling","textEl","className","parseMonth","month","generateDates","year","monthElements","weekStart","getDate","daysLast","startDay","getDay","monthText","monthNames","checked","toJSON","disabledDates","getTime","disabledDays","minDate","maxDate","today","setHours","tooltips","bgColor","percent","Math","round","z","Color","setDate","resetCalendar","currentMonth","getFullYear","getMonth","header","c","monthPicker","startmonth","endmonth","monthint","yearname","renderSelectedDates","selectedDates","range","currentDate","sorted","sort","a","first","monthPickEl","yearPickEl","nextMonth","prevMonth","selectDate","ignoreOnSelect","onSelect","apply","unselectDate","unselectAll","maxSelections","closeOnSelect","hide","setRange","val","show","properties","inline","body","setArgs","handler","calendar","whichAnimationEvent","opened","startDate","parentNode","onClose","bindEvents","contains","button","overlay","closeOnClick","startX","distance","changedTouches","clientX","originalEvent","key","init","getBrowserVersion","template","titleBox","window","FastClick","attach","currentDateGetter","currentDateSetter","no","en","de","zh_TW","title","onConfirm","Object","defineProperties","get","set","innerText","console","error","isOpen","Array","map","hl","highlightObj","hlDate","callback","fullscreen","bind","ret","String","y","HTMLElement","freeze","name","isMatch","concat","legnth","str","compare","regExp","RegExp","test","t","transitions","animation","OAnimation","MozAnimation","WebkitAnimation","","undefined","style","tem","ios","browser","version","ua","navigator","userAgent","M","match","appName","appVersion","splice","define","amd","exports","module"],"mappings":"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","file":"datepickk.min.js","sourcesContent":["/*!\n * Datepickk\n * Docs & License: https://crsten.github.com/datepickk\n * (c) 2016 Carsten Jacobsen\n */\n(function(){\n\t\n\tfunction Datepickk(args){\n\t\tDatepickk.numInstances = (Datepickk.numInstances || 0) + 1;\n\t\tvar that = this;\n\t\tvar eventName = 'click';\n\t\tvar selectedDates = [];\n\n\t\tvar currentYear = new Date().getFullYear();\n\t\tvar currentMonth = new Date().getMonth() + 1;\n\n\t\tvar languages = {\n\t\t\tno: {\n\t\t\t\tmonthNames:['Januar','Februar','Mars','April','Mai','Juni','Juli','August','September','Oktober','November','Desember'],\n\t\t\t\tdayNames:['ma','ti','on','to','fr','lø','sø'],\n\t\t\t\tweekStart:1\n\t\t\t},\n\t\t\ten: {\n\t\t\t\tmonthNames:['january','february','march','april','may','june','july','august','september','october','november','december'],\n\t\t\t\tdayNames:['su','mo','tu','we','th','fr','sa'],\n\t\t\t\tweekStart:0\n\t\t\t},\n\t\t\tde: {\n\t\t\t\tmonthNames:['Januar','Februar','März','April','Mai','Juni','Juli','August','September','Oktober','November','Dezember'],\n\t\t\t\tdayNames:['Mo','Di','Mi','Do','Fr','Sa','So'],\n\t\t\t\tweekStart:1\n\t\t\t},\n\t\t\tzh_TW: {\n\t\t\t\tmonthNames:['一月','二月','三月','四月','五月','六月','七月','八月','九月','十月','十一月','十二月'],\n\t\t\t\tdayNames:['日','一','二','三','四','五','六'],\n\t\t\t\tweekStart:0\n\t\t\t}\n\t\t};\n\t\t\n\t\tvar range = false;\n\t\tvar maxSelections = null;\n\t\tvar container = document.body;\n\t\tvar opened = false;\n\t\tvar months = 1;\n\t\tvar closeOnSelect = false;\n\t\tvar button = null;\n\t\tvar title = null;\n\t\tvar onClose = null;\n\t\tvar onConfirm = null;\n\t\tvar closeOnClick = true;\n\t\tvar inline = false;\n\t\tvar lang = 'en';\n\t\tvar onSelect = null;\n\t\tvar disabledDates = [];\n\t\tvar disabledDays = [];\n\t\tvar highlight = [];\n\t\tvar tooltips = {};\n\t\tvar daynames = true;\n\t\tvar today = true;\n\t\tvar startDate = null;\n\t\tvar minDate = null;\n\t\tvar maxDate = null;\n\t\tvar locked = false;\n\t\t\n\t\tfunction generateDaynames(){\n\t\t\tthat.el.days.innerHTML = '';\n\t\t\tif(daynames){\n\t\t\t\tfor(var x = 0;x<months && x<3;x++){\n\t\t\t\t\tvar weekEl = document.createElement('div');\n\t\t\t\t\t\tweekEl.setAttribute('class','d-week');\n\t\t\t\t\tfor(var i = 0; i < 7;i++){\n\t\t\t\t\t\tvar dayEl = document.createElement('div');\n\t\t\t\t\t\tvar\tdayTextEl = document.createElement('p');\n\t\t\t\t\t\t\tdayTextEl.innerHTML = languages[lang].dayNames[i];\n\n\t\t\t\t\t\t\tdayEl.appendChild(dayTextEl);\n\t\t\t\t\t\t\tweekEl.appendChild(dayEl);\n\t\t\t\t\t}\n\n\t\t\t\t\tthat.el.days.appendChild(weekEl);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction generateYears(){\n\t\t\t[].slice.call(that.el.yearPicker.childNodes).forEach(function(node,index) {\n\t\t\t\tnode.innerHTML = \"'\" + (currentYear + parseInt(node.getAttribute('data-year'))).toString().substring(2,4);\t\t\t\t\t\t\t\t\n\t\t\t})\n\t\t}\n\n\t\tfunction generateInputs(){\n\t\t\tthat.el.tables.innerHTML = '';\n\t\t\tfor(var x = 0;x<months;x++){\n\t\t\t\tvar container = document.createElement('div');\n\t\t\t\t\tcontainer.setAttribute('class','d-table');\n\t\t\t\tfor(var i = 0;i<42;i++){\n\t\t\t\t\tvar input = document.createElement('input');\n\t\t\t\t\t\tinput.type = 'checkbox';\n\t\t\t\t\t\tinput.id   = Datepickk.numInstances + '-' + x + '-d-day-' + i;\n\t\t\t\t\tvar label = document.createElement('label');\n\t\t\t\t\t\tlabel.setAttribute(\"for\",Datepickk.numInstances + '-' + x + '-d-day-' + i);\n\n\t\t\t\t\tvar text = document.createElement('text');\n\t\t\t\t\t\n\t\t\t\t\tvar tooltip = document.createElement('span');\n\t\t\t\t\t\ttooltip.setAttribute('class','d-tooltip');\n\n\n\t\t\t\t\tcontainer.appendChild(input);\n\t\t\t\t\tcontainer.appendChild(label);\n\t\t\t\t\tlabel.appendChild(text);\n\t\t\t\t\tlabel.appendChild(tooltip);\n\n\t\t\t\t\tinput.addEventListener(eventName,function(){\n\t\t\t\t\t\tif(locked){\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t}\t\n\t\t\t\t\t});\n\t\t\t\t\tinput.addEventListener('change',inputChange);\n\t\t\t\t}\n\n\t\t\t\tthat.el.tables.appendChild(container);\n\t\t\t}\n\n\t\t\tthat.el.tables.addEventListener('mouseover',highlightLegend);\n\t\t\tthat.el.tables.addEventListener('mouseout',highlightLegend);\n\n\t\t\tfunction highlightLegend(e){\n\t\t\t\tif(e.target.nodeName !== 'LABEL') return;\n\n\t\t\t\tvar legendIds = (e.target.getAttribute('data-legend-id'))?e.target.getAttribute('data-legend-id').split(' '):[];\n\t\t\t\tif(!legendIds.length) return;\n\n\t\t\t\tlegendIds.forEach(function(legendId) {\n\t\t\t\t\tvar element = that.el.legend.querySelector('[data-legend-id=\"' + legendId + '\"]');\n\t\t\t\t\tif(e.type == 'mouseover' && element){\n\t\t\t\t\t\tvar color = (element.getAttribute('data-color'))?hexToRgb(element.getAttribute('data-color')):null;\n\t\t\t\t\t\telement.setAttribute('style','background-color:rgba(' + color.r + ',' + color.g + ',' + color.b + ',0.35);');\t\n\t\t\t\t\t}else if(element){\n\t\t\t\t\t\telement.removeAttribute('style');\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tfunction hexToRgb(hex) {\n\t\t\t\t    var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n\t\t\t\t    return result ? {\n\t\t\t\t        r: parseInt(result[1], 16),\n\t\t\t\t        g: parseInt(result[2], 16),\n\t\t\t\t        b: parseInt(result[3], 16)\n\t\t\t\t    } : null;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction generateLegends(){\n\t\t\tvar start = new Date(that.el.tables.childNodes[0].childNodes[0].getAttribute('data-date'));\n\t\t\tvar end = new Date(that.el.tables.childNodes[months-1].childNodes[82].getAttribute('data-date'));\n\t\t\tvar _highlights = highlight.filter(function(x){\n\t\t\t\tfor(var m = 0;m < x.dates.length;m++){\n\t\t\t\t\tif(x.dates[m].start < end && x.dates[m].end > start){\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t});\n\t\t\tvar legends = [];\n\t\t\t\n\t\t\tfor(var l = 0;l<_highlights.length;l++){\n\t\t\t\tif('legend' in _highlights[l] && _highlights[l].legend){\n\t\t\t\t\tvar oldLegend = container.querySelector('.d-legend-item[data-legend=\"' + _highlights[l].legend + '\"][data-color=\"' + _highlights[l].backgroundColor + '\"]');\n\t\t\t\t\tif(oldLegend == null){\n\t\t\t\t\t\tvar legendItem = document.createElement('p');\n\t\t\t\t\t\t\tlegendItem.setAttribute('class','d-legend-item');\n\t\t\t\t\t\t\tlegendItem.setAttribute('data-legend',_highlights[l].legend);\n\t\t\t\t\t\t\tlegendItem.setAttribute('data-legend-id',highlight.indexOf(_highlights[l]));\n\t\t\t\t\t\t\tlegendItem.setAttribute('data-color',_highlights[l].backgroundColor);\n\t\t\t\t\t\tvar legendItemPoint = document.createElement('span');\n\t\t\t\t\t\t\tlegendItemPoint.setAttribute('style','background-color:' + _highlights[l].backgroundColor);\n\t\t\t\t\t\tif(_highlights[l].circleClassName)\n\t\t\t\t\t\t\taddClass(legendItemPoint, _highlights[l].circleClassName);\n\t\t\t\t\t\tlegendItem.appendChild(legendItemPoint);\n\n\t\t\t\t\t\tthat.el.legend.appendChild(legendItem);\n\t\t\t\t\t\tlegendItem.addEventListener('mouseover',hoverLegend);\n\t\t\t\t\t\tlegendItem.addEventListener('mouseout',hoverLegend);\n\t\t\t\t\t\tlegends.push(legendItem);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tlegends.push(oldLegend);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t[].slice.call(that.el.legend.querySelectorAll('.d-legend-item')).forEach(function(item) {\n\t\t\t\tif(legends.indexOf(item) < 0){\n\t\t\t\t\titem.removeEventListener('mouseover',hoverLegend);\n\t\t\t\t\titem.removeEventListener('mouseout',hoverLegend);\n\t\t\t\t\tthat.el.legend.removeChild(item);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tfunction hoverLegend(e){\n\t\t\t\t[].slice.call(that.el.tables.querySelectorAll('[data-legend-id*=\"' + this.getAttribute('data-legend-id') + '\"]')).forEach(function(element) {\n\t\t\t\t\tif(e.type == 'mouseover') element.classList.add('legend-hover');\n\t\t\t\t\telse element.classList.remove('legend-hover');\t\t\t\t\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\t\n\t\tfunction setCircleClassName(){\n\t\t\tremoveAllDayTextClass();\n\t\t\t\n\t\t\tvar start = new Date(that.el.tables.childNodes[0].childNodes[0].getAttribute('data-date'));\n\t\t\tvar end = new Date(that.el.tables.childNodes[months-1].childNodes[82].getAttribute('data-date'));\n\t\t\tvar _highlights = highlight.filter(function(x){\n\t\t\t\tfor(var m = 0;m < x.dates.length;m++){\n\t\t\t\t\tif(x.dates[m].start < end && x.dates[m].end > start \n\t\t\t\t\t\t&& x.circleClassName){\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t});\n\t\t\t\n\t\t\t[].slice.call(that.el.querySelectorAll('.d-table input')).forEach(function(inputEl, index) {\n\t\t\t\tvar date = new Date(inputEl.getAttribute(\"data-date\"));\n\t\t\t\t_highlights.forEach(function(_highlightEl){\n\t\t\t\t\t_highlightEl.dates.forEach(function(dateEl){\n\t\t\t\t\t\tif(dateEl.start <= date && dateEl.end >= date){\n\t\t\t\t\t\t\tvar labelEl = inputEl.nextSibling;\n\t\t\t\t\t\t\tvar textEl = labelEl.querySelector('text');\n\t\t\t\t\t\t\taddClass(textEl, _highlightEl.circleClassName);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t\t\n\t\tfunction removeAllDayTextClass(){\n\t\t\t[].slice.call(that.el.querySelectorAll('.d-table text')).forEach(function(textEl, index) {\n\t\t\t\ttextEl.className = '';\n\t\t\t});\n\t\t}\n\n\t\tfunction parseMonth(month){\n\t\t\tif(month > 11) month -= 12;\n\t\t\telse if(month < 0) month += 12;\n\t\t\treturn month;\n\t\t}\n\n\t\tfunction generateDates(year,month){\n\t\t\tvar monthElements = that.el.querySelectorAll('.d-table');\n\t\t\tvar weekStart = languages[lang].weekStart;\n\n\t\t\t[].slice.call(that.el.querySelectorAll('.d-table')).forEach(function(element, index) {\n\t\t\t\tvar days = new Date(year,month + index,0).getDate();\n\t\t\t\tvar daysLast = new Date(year,month + index - 1,0).getDate();\n\t\t\t\tvar startDay = new Date(year,month + index - 1,1).getDay();\n\t\t\t\tvar startDate = null;\n\t\t\t\tvar endDate = null;\n\t\t\t\tif(startDay - weekStart < 0){\n\t\t\t\t\tstartDay = 7 - weekStart;\n\t\t\t\t}else{\n\t\t\t\t\tstartDay -= weekStart;\n\t\t\t\t}\n\t\t\t\tvar monthText = languages[lang].monthNames[parseMonth(month - 1 + index)];\n\t\t\t\telement.setAttribute('data-month',monthText);\n\n\t\t\t\t[].slice.call(element.querySelectorAll('.d-table input')).forEach(function(inputEl,i) {\n\t\t\t\t\tvar labelEl = inputEl.nextSibling;\n\n\t\t\t\t\tinputEl.checked = false;\n\t\t\t\t\tinputEl.removeAttribute('disabled');\n\t\t\t\t\tlabelEl.removeAttribute('style');\n\t\t\t\t\tlabelEl.removeAttribute('data-legend-id');\n\t\t\t\t\tlabelEl.className = '';\n\n\t\t\t\t\tvar date = null;\n\t\t\t\t\tif(i < startDay){\n\t\t\t\t\t\tlabelEl.childNodes[0].innerHTML = daysLast - (startDay - i - 1);\n\t\t\t\t\t\tif(index == 0){\n\t\t\t\t\t\t\tdate = new Date(year,month + index - 2,daysLast - (startDay - i - 1));\n\t\t\t\t\t\t\tlabelEl.className = 'prev';\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tdate = '';\n\t\t\t\t\t\t\tlabelEl.className = 'd-hidden';\n\t\t\t\t\t\t\tinputEl.setAttribute('disabled',true);\n\t\t\t\t\t\t}\n\t\t\t\t\t}else if(i < days + startDay){\n\t\t\t\t\t\tdate = new Date(year,month + index - 1,i - startDay+1);\n\t\t\t\t\t\tlabelEl.childNodes[0].innerHTML = i - startDay + 1;\n\t\t\t\t\t\tlabelEl.className = '';\n\t\t\t\t\t}else{\n\t\t\t\t\t\tlabelEl.childNodes[0].innerHTML = i - days - startDay + 1;\n\t\t\t\t\t\tif(index == monthElements.length-1){\n\t\t\t\t\t\t\tdate = new Date(year,month + index,i - days - startDay + 1);\n\t\t\t\t\t\t\tlabelEl.className = 'next';\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tdate = '';\n\t\t\t\t\t\t\tlabelEl.className = 'd-hidden';\n\t\t\t\t\t\t\tinputEl.setAttribute('disabled',true);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif(date instanceof Date){\n\t\t\t\t\t\tinputEl.setAttribute('data-date',date.toJSON());\n\t\t\t\t\t\n\t\t\t\t\t\tif(disabledDates.indexOf(date.getTime()) != -1 || disabledDays.indexOf(date.getDay()) != -1){\n\t\t\t\t\t\t\tinputEl.setAttribute('disabled',true);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif((minDate && date < minDate) || (maxDate && date > maxDate)){\n\t\t\t\t\t\t\tinputEl.setAttribute('disabled',true);\n\t\t\t\t\t\t\tlabelEl.className = 'd-hidden';\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif(today && date.getTime() == new Date().setHours(0,0,0,0)){\n\t\t\t\t\t\t\tlabelEl.classList.add('today');\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tlabelEl.classList.remove('today');\n\t\t\t\t\t\t}\n\n\n\t\t\t\t\t\tif(tooltips[date.getTime()]){\n\t\t\t\t\t\t\tlabelEl.childNodes[0].setAttribute('data-tooltip',true);\n\t\t\t\t\t\t\tlabelEl.childNodes[1].innerHTML = tooltips[date.getTime()];\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tlabelEl.childNodes[0].removeAttribute('data-tooltip');\n\t\t\t\t\t\t\tlabelEl.childNodes[1].innerHTML = '';\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar _highlights = highlight.filter(function(x){\n\t\t\t\t\t\t\tfor(var m = 0;m < x.dates.length;m++){\n\t\t\t\t\t\t\t\tif(date.getTime() >= x.dates[m].start.getTime() && date.getTime() <= x.dates[m].end.getTime()){\n\t\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tif(_highlights.length > 0){\n\t\t\t\t\t\t\tvar bgColor = '';\n\t\t\t\t\t\t\tvar legendIds = '';\n\n\t\t\t\t\t\t\tif(_highlights.length > 1){\n\t\t\t\t\t\t\t\tvar percent = Math.round(100 / _highlights.length);\n\t\t\t\t\t\t\t\tbgColor = 'background: linear-gradient(-45deg,';\n\t\t\t\t\t\t\t\tfor(var z = 0;z < _highlights.length;z++){\n\t\t\t\t\t\t\t\t\tlegendIds += highlight.indexOf(_highlights[z]);\n\t\t\t\t\t\t\t\t\tif(z !== _highlights.length -1){legendIds += ' ';}\n\t\t\t\t\t\t\t\t\tbgColor += _highlights[z].backgroundColor + ' ' + (percent*z) + '%';\n\t\t\t\t\t\t\t\t\tif(z != _highlights.length - 1){\n\t\t\t\t\t\t\t\t\t\tbgColor += ',';\n\t\t\t\t\t\t\t\t\t\tbgColor += _highlights[z].backgroundColor + ' ' + (percent*(z+1)) + '%,';\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbgColor += ');';\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tbgColor = (_highlights[0].backgroundColor)?'background:'+ _highlights[0].backgroundColor + ';':'';\n\t\t\t\t\t\t\t\tlegendIds += highlight.indexOf(_highlights[0]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvar Color = (_highlights[0].color)?'color:'+ _highlights[0].color + ';':'';\n\t\t\t\t\t\t\tlabelEl.setAttribute('style',bgColor + Color);\n\t\t\t\t\t\t\tlabelEl.setAttribute('data-legend-id',legendIds);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tgenerateLegends();\n\t\t\tsetCircleClassName();\n\t\t};\n\n\t\tfunction setDate(){\n\t\t\tif(!that.el.tables.childNodes.length || !that.el.tables.childNodes[0].childNodes.length) return;\n\n\t\t\tresetCalendar();\n\n\t\t\tif(currentMonth > 12 || currentMonth < 1){\n\t\t\t\tif(currentMonth > 12){\n\t\t\t\t\tcurrentYear += 1;\n\t\t\t\t\tcurrentMonth -= 12;\n\t\t\t\t}else{\n\t\t\t\t\tcurrentYear -= 1;\n\t\t\t\t\tcurrentMonth += 12;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(maxDate && new Date(currentYear,currentMonth-1+months-1,1) >= new Date(maxDate).setDate(1)){\n\t\t\t\tcurrentYear = maxDate.getFullYear();\n\t\t\t\tcurrentMonth = maxDate.getMonth() + 1 - months + 1;\n\t\t\t\tthat.el.header.childNodes[2].setAttribute('style','visibility:hidden');\n\t\t\t}else{\n\t\t\t\tthat.el.header.childNodes[2].removeAttribute('style');\n\t\t\t}\n\t\t\tif(minDate && new Date(currentYear,currentMonth -1,1) <= new Date(minDate).setDate(1)){\n\t\t\t\tcurrentYear = minDate.getFullYear();\n\t\t\t\tcurrentMonth = minDate.getMonth() + 1;\n\t\t\t\tthat.el.header.childNodes[0].setAttribute('style','visibility:hidden');\n\t\t\t}else{\n\t\t\t\tthat.el.header.childNodes[0].removeAttribute('style');\n\t\t\t}\n\n\t\t\tfor(var c = 0;c < months;c++){\n\t\t\t\tvar index = currentMonth-1+c;\n\t\t\t\tif(index > 11){\n\t\t\t\t\tindex -= 12;\n\t\t\t\t}else if(index < 0){\n\t\t\t\t\tindex += 12;\n\t\t\t\t}\n\n\t\t\t\tthat.el.monthPicker.childNodes[index].classList.add('current');\n\t\t\t}\n\n\t\t\tgenerateDates(currentYear,currentMonth);\n\t\t\tgenerateYears();\n\t\t\tvar startmonth = languages[lang].monthNames[currentMonth-1];\n\t\t\tvar endmonth = '';\n\t\t\tif(months > 1){\n\t\t\t\tendmonth += ' - ';\n\t\t\t\tvar monthint = currentMonth-1+months-1;\n\t\t\t\tif(monthint > 11){\n\t\t\t\t\tmonthint -= 12;\n\t\t\t\t}else if(monthint < 0){\n\t\t\t\t\tmonthint += 12;\n\t\t\t\t}\n\t\t\t\tendmonth += languages[lang].monthNames[monthint];\n\t\t\t}\n\t\t\tvar yearname = (currentMonth-1+months-1 > 11)?currentYear.toString().substring(2,4) + '/' + (currentYear + 1).toString().substring(2,4):currentYear.toString().substring(2,4);\n\t\t\tthat.el.header.childNodes[1].childNodes[0].innerHTML = startmonth + endmonth;\n\t\t\tthat.el.header.childNodes[1].childNodes[1].innerHTML = yearname;\n\n\t\t\tthat.el.yearPicker.querySelector('[data-year=\"0\"]').classList.add('current');\n\t\t\tif(currentMonth-1+months-1>11){\n\t\t\t\tthat.el.yearPicker.querySelector('[data-year=\"1\"]').classList.add('current');\n\t\t\t}\n\t\t\t\n\t\t\trenderSelectedDates();\n\t\t};\n\n\t\tfunction renderSelectedDates(){\n\t\t\tselectedDates.forEach(function(date) {\n\t\t\t\tvar el = that.el.querySelector('[data-date=\"' + date.toJSON() + '\"]');\n\t\t\t\tif(el){\n\t\t\t\t\tel.checked = true;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthat.el.tables.classList.remove('before');\n\t\t\tif(range && selectedDates.length > 1){\n\t\t\t\tvar currentDate = new Date(currentYear,currentMonth-1,1);\n\t\t\t\tvar sorted = selectedDates.sort(function(a,b){return a.getTime()-b.getTime()});\n\t\t\t\tvar first = that.el.querySelector('[data-date=\"'+ sorted[0].toJSON() +'\"]');\n\t\t\t\tif(!first && currentDate >= new Date(sorted[0].getFullYear(),sorted[0].getMonth(),1) && currentDate <= new Date(sorted[1].getFullYear(),sorted[1].getMonth(),1)){\n\t\t\t\t\tthat.el.tables.classList.add('before');\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tfunction resetCalendar(){\n\t\t\t[].slice.call(that.el.querySelectorAll('.d-table input')).forEach(function(inputEl) {\n\t\t\t\tinputEl.checked = false;\n\t\t\t});\n\n\t\t\t[].slice.call(that.el.monthPicker.querySelectorAll('.current')).forEach(function(monthPickEl) {\n\t\t\t\tmonthPickEl.classList.remove('current');\n\t\t\t});\n\n\t\t\t[].slice.call(that.el.yearPicker.querySelectorAll('.current')).forEach(function(yearPickEl) {\n\t\t\t\tyearPickEl.classList.remove('current');\n\t\t\t});\n\t\t};\n\n\t\tfunction nextMonth(){\n\t\t\tcurrentMonth += months;\n\t\t\tsetDate();\n\t\t};\n\n\t\tfunction prevMonth(){\n\t\t\tcurrentMonth -= months;\n\t\t\tsetDate();\n\t\t};\n\n\t\tfunction selectDate(date,ignoreOnSelect){\n\t\t\tdate = new Date(date);\n\t\t\tdate.setHours(0,0,0,0);\n\t\t\tvar el = that.el.querySelector('[data-date=\"'+ date.toJSON() +'\"]');\n\t\t\t\n\t\t\tif(range && el && el.checked) {\n\t\t\t\tel.classList.add('single');\n\t\t\t}\n\n\t\t\tif(el && !el.checked){\n\t\t\t\tel.checked = true;\n\t\t\t}\n\n\n\t\t\tselectedDates.push(date);\n\n\t\t\tif(onSelect && !ignoreOnSelect){\n\t\t\t\tonSelect.apply(date,[true]);\n\t\t\t}\n\t\t};\n\n\t\tfunction unselectDate(date,ignoreOnSelect){\n\t\t\tdate = new Date(date);\n\t\t\tdate.setHours(0,0,0,0);\n\t\t\tvar el = that.el.querySelector('[data-date=\"'+ date.toJSON() +'\"]');\n\t\t\tif(el){\n\t\t\t\tel.classList.remove('single');\n\t\t\t\tif(el.checked){el.checked = false;}\n\t\t\t}\n\n\t\t\tselectedDates = selectedDates.filter(function(x){return x.getTime() != date.getTime()});\n\n\t\t\tif(onSelect && !ignoreOnSelect){\n\t\t\t\tonSelect.call(date,false);\n\t\t\t}\n\t\t};\n\n\t\tfunction unselectAll(ignoreOnSelect){\n\t\t\tselectedDates.forEach(function(date) {\n\t\t\t\tunselectDate(date,ignoreOnSelect);\t\t\t\t\n\t\t\t});\n\t\t};\n\n\t\tfunction inputChange(e){\n\t\t\tvar input = this;\n\t\t\tvar date = new Date(input.getAttribute('data-date'));\n\t\t\tinput.classList.remove('single');\n\t\t\tif(locked){return;}\n\t\t\tif(range){\n\t\t\t\tthat.el.tables.classList.remove('before');\n\t\t\t}\n\t\t\tif(input.checked){\n\t\t\t\tif(maxSelections && selectedDates.length > maxSelections-1){\n\t\t\t\t\tvar length = selectedDates.length;\n\t\t\t\t\tfor(length; length > maxSelections-1; length --){\n\t\t\t\t\t\tunselectDate(selectedDates[0]);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(range && selectedDates.length){\n\t\t\t\t\tvar first = that.el.querySelector('[data-date=\"'+ selectedDates[0].toJSON() +'\"]');\n\t\t\t\t\tif(!first && date > selectedDates[0]){\n\t\t\t\t\t\tthat.el.tables.classList.add('before');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tselectedDates.push(date);\n\t\t\t\t\n\t\t\t\tif(closeOnSelect){\n\t\t\t\t\tthat.hide();\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tif(range && selectedDates.length == 1 && selectedDates[0].getTime() == date.getTime()){\n\t\t\t\t\tselectDate(date);\n\t\t\t\t\tinput.classList.add('single');\n\t\t\t\t}else{\n\t\t\t\t\tselectedDates = selectedDates.filter(function(x){return x.getTime() != date.getTime()})\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(onSelect){\n\t\t\t\tonSelect.call(date,input.checked);\n\t\t\t}\n\t\t};\n\n\t\tfunction setRange(val){\n\t\t\tif(val){\n\t\t\t\trange = true;\n\t\t\t\tthat.el.tables.classList.add('range');\n\t\t\t}else{\n\t\t\t\trange = false;\n\t\t\t\tthat.el.tables.classList.remove('range');\n\t\t\t}\n\t\t};\n\n\t\tfunction show(properties){\n\t\t\tif(!that.inline && that.container === document.body){document.body.classList.add('d-noscroll');}\n\t\t\tsetArgs(properties);\n\t\t\tvar handler = function(){\n\t\t\t\tthat.el.classList.remove('d-show');\n\t\t\t\tthat.el.calendar.removeEventListener(whichAnimationEvent(),handler);\n\t\t\t};\n\t\t\tthat.el.calendar.addEventListener(whichAnimationEvent(),handler);\n\t\t\tthat.el.classList.add('d-show');\n\t\t\tcontainer.appendChild(that.el);\n\t\t\topened = true;\n\t\t\tif(startDate){\n\t\t\t\tcurrentMonth = startDate.getMonth() + 1;\n\t\t\t\tcurrentYear = startDate.getFullYear();\n\t\t\t}\n\t\t\tsetDate();\n\t\t};\n\n\t\tfunction hide(){\n\t\t\tdocument.body.classList.remove('d-noscroll');\n\t\t\tvar handler = function(){\n\t\t\t\tthat.el.parentNode.removeChild(that.el);\n\t\t\t\topened = false;\n\t\t\t\tthat.el.classList.remove('d-hide');\n\t\t\t\tif(typeof onClose == 'function'){\n\t\t\t\t\tonClose.apply(that);\n\t\t\t\t}\n\t\t\t\tthat.el.removeEventListener(whichAnimationEvent(),handler);\n\t\t\t}\n\t\t\tthat.el.addEventListener(whichAnimationEvent(),handler);\n\t\t\tthat.el.classList.add('d-hide');\n\t\t};\n\n\t\tfunction bindEvents(){\n\t\t\tthat.el.header.childNodes[0].addEventListener(eventName,prevMonth);\n\t\t\tthat.el.header.childNodes[2].addEventListener(eventName,nextMonth);\n\t\t\tthat.el.header.childNodes[1].childNodes[0].addEventListener(eventName,function(){\n\t\t\t\tif(that.el.monthPicker.classList.contains('d-show')){\n\t\t\t\t\tthat.el.monthPicker.classList.remove('d-show');\n\t\t\t\t}else{\n\t\t\t\t\tthat.el.monthPicker.classList.add('d-show');\n\t\t\t\t}\n\t\t\t\tthat.el.yearPicker.classList.remove('d-show');\n\t\t\t});\n\t\t\tthat.el.header.childNodes[1].childNodes[1].addEventListener(eventName,function(){\n\t\t\t\tgenerateYears();\n\t\t\t\tif(that.el.yearPicker.classList.contains('d-show')){\n\t\t\t\t\tthat.el.yearPicker.classList.remove('d-show');\n\t\t\t\t}else{\n\t\t\t\t\tthat.el.yearPicker.classList.add('d-show');\n\t\t\t\t}\n\t\t\t\tthat.el.monthPicker.classList.remove('d-show');\n\t\t\t});\n\t\t\tthat.el.button.addEventListener(eventName,hide);\n\n\t\t\tthat.el.overlay.addEventListener(eventName,function(){\n\t\t\t\tif(closeOnClick){\n\t\t\t\t\tthat.hide();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t[].slice.call(that.el.monthPicker.childNodes).forEach(function(monthPicker) {\n\t\t\t\tmonthPicker.addEventListener(eventName,function(){\n\t\t\t\t\tcurrentMonth = parseInt(this.getAttribute('data-month'));\n\t\t\t\t\tsetDate();\n\t\t\t\t\tthat.el.monthPicker.classList.remove('d-show');\n\t\t\t\t});\t\t\t\t\n\t\t\t});\n\n\t\t\t[].slice.call(that.el.yearPicker.childNodes).forEach(function(yearPicker) {\n\t\t\t\tyearPicker.addEventListener(eventName,function(){\n\t\t\t\t\tcurrentYear += parseInt(this.getAttribute('data-year'));\n\t\t\t\t\tsetDate();\n\t\t\t\t\tthat.el.yearPicker.classList.remove('d-show');\n\t\t\t\t});\t\t\t\t\n\t\t\t})\n\n\t\t\tvar startX = 0;\n\t\t\tvar distance = 0;\n\t\t\tthat.el.calendar.addEventListener('touchstart',function(e){\n\t\t\t\tstartX = e.changedTouches[0].clientX || e.originalEvent.changedTouches[0].clientX;\n\t\t\t\t//e.preventDefault();\n\t\t\t});\n\n\t\t\tthat.el.calendar.addEventListener('touchmove',function(e){\n\t\t\t\tdistance = e.changedTouches[0].clientX - startX || e.originalEvent.changedTouches[0].clientX - startX;\n\t\t\t\te.preventDefault();\n\t\t\t});\n\n\t\t\tthat.el.calendar.addEventListener('touchend',function(e){\n\t\t\t\tif(distance > 50){\n\t\t\t\t\tprevMonth();\n\t\t\t\t}else if(distance < -50){\n\t\t\t\t\tnextMonth();\n\t\t\t\t}\n\t\t\t\tdistance = 0;\n\t\t\t});\n\t\t};\n\n\t\tfunction setArgs(x){\n\t\t\tfor(var key in x){\n\t\t\t\tif(key in that){\n\t\t\t\t\tthat[key] = x[key];\n\t\t\t\t}\n\t\t\t};\n\t\t};\n\n\t\tfunction init(){\n\t\t\tthat.el = document.createElement('div');\n\t\t\tthat.el.id = 'Datepickk';\n\t\t\tthat.el.classList.add(getBrowserVersion().type);\n\t\t\tthat.el.innerHTML = template;\n\t\t\tthat.el.calendar = that.el.childNodes[1];\n\t\t\tthat.el.titleBox = that.el.childNodes[0];\n\t\t\tthat.el.button = that.el.childNodes[3];\n\t\t\tthat.el.header = that.el.calendar.childNodes[0];\n\t\t\tthat.el.monthPicker = that.el.calendar.childNodes[1];\n\t\t\tthat.el.yearPicker = that.el.calendar.childNodes[2];\n\t\t\tthat.el.tables = that.el.calendar.childNodes[4];\n\t\t\tthat.el.days = that.el.calendar.childNodes[3];\n\t\t\tthat.el.overlay = that.el.childNodes[4];\n\t\t\tthat.el.legend = that.el.childNodes[2];\n\n\t\t\tsetArgs(args);\n\n\t\t\tgenerateInputs();\n\t\t\tgenerateDaynames();\n\t\t\tbindEvents();\n\n\t\t\tif(inline){\n\t\t\t\tshow();\n\t\t\t}\n\n\t\t\tif(window.FastClick != null){\n\t\t\t\tFastClick.attach(that.el);\n\t\t\t}\n\t\t}\n\n\t\tthat.show = show;\n\t\tthat.hide = hide;\n\t\tthat.selectDate = selectDate;\n\t\tthat.unselectAll = unselectAll;\n\t\tthat.unselectDate = unselectDate;\n\n\t\tfunction currentDateGetter(){\n\t\t\treturn new Date(currentYear,currentMonth-1,1);\n\t\t}\n\t\tfunction currentDateSetter(x){\n\t\t\tx = new Date(x);\n\t\t\tcurrentMonth = x.getMonth() + 1;\n\t\t\tcurrentYear = x.getFullYear();\n\t\t\tsetDate();\n\t\t}\n\n\t\tObject.defineProperties(that,{\n\t\t\t\"selectedDates\": { \n\t\t\t\tget: function () { \n\t\t\t\t\treturn selectedDates.sort(function(a,b){return a.getTime() - b.getTime();}); \n\t\t\t\t} \n\t\t\t},\n\t\t\t\"range\": {\n\t\t\t\tget: function() {\n\t\t\t\t\treturn range;\n\t\t\t\t},\n\t\t\t\tset: function(x) {\n\t\t\t\t\tsetRange(x);\n\t\t\t\t\tif(x){maxSelections = 2;}\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"button\": {\n\t\t\t\tget: function() {\n\t\t\t\t\treturn button;\n\t\t\t\t},\n\t\t\t\tset: function(x){\n\t\t\t\t\tif(typeof x == 'string'){\n\t\t\t\t\t\tbutton = x;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tbutton = null;\n\t\t\t\t\t}\n\t\t\t\t\tthat.el.button.innerHTML = (button)?button:'';\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"title\": {\n\t\t\t\tget: function(){\n\t\t\t\t\treturn title;\n\t\t\t\t},\n\t\t\t\tset: function(x){\n\t\t\t\t\tif(typeof x == 'string'){\n\t\t\t\t\t\ttitle = x;\n\t\t\t\t\t}else{\n\t\t\t\t\t\ttitle = null;\n\t\t\t\t\t}\n\t\t\t\t\tthat.el.titleBox.innerText = (title)?title:'';\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"lang\": {\n\t\t\t\tget: function(){\n\t\t\t\t\treturn lang;\n\t\t\t\t},\n\t\t\t\tset: function(x){\n\t\t\t\t\tif(x in languages){\n\t\t\t\t\t\tlang = x;\n\t\t\t\t\t\tgenerateDaynames();\n\t\t\t\t\t\tsetDate();\n\t\t\t\t\t}else{\n\t\t\t\t\t\tconsole.error('Language not found');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"months\": {\n\t\t\t\tget: function(){\n\t\t\t\t\treturn months;\n\t\t\t\t},\n\t\t\t\tset: function(x){\n\t\t\t\t\tif(typeof x == 'number' && x > 0){\n\t\t\t\t\t\tmonths = x;\n\t\t\t\t\t\tgenerateDaynames();\n\t\t\t\t\t\tgenerateInputs();\n\t\t\t\t\t\tsetDate();\n\n\t\t\t\t\t\tif(months == 1){\n\t\t\t\t\t\t\tthat.el.classList.remove('multi');\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tthat.el.classList.add('multi');\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tconsole.error('months must be a number > 0');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"isOpen\": {\n\t\t\t\tget: function(){\n\t\t\t\t\treturn opened;\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"closeOnSelect\": {\n\t\t\t\tget: function(){\n\t\t\t\t\treturn closeOnSelect;\n\t\t\t\t},\n\t\t\t\tset: function(x){\n\t\t\t\t\tif(x){\n\t\t\t\t\t\tcloseOnSelect = true; \n\t\t\t\t\t}else{\n\t\t\t\t\t\tcloseOnSelect = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"disabledDays\": {\n\t\t\t\tget: function(){\n\t\t\t\t\treturn disabledDays;\n\t\t\t\t},\n\t\t\t\tset: function(x){\n\t\t\t\t\tif(x instanceof Array){\n\t\t\t\t\t\tfor(var i = 0;i < x.length;i++){\n\t\t\t\t\t\t\tif(typeof x[i] == 'number'){\n\t\t\t\t\t\t\t\tdisabledDays.push(x[i]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}else if(typeof x == 'number'){\n\t\t\t\t\t\tdisabledDays = [x];\n\t\t\t\t\t}else if(!x){\n\t\t\t\t\t\tdisabledDays = [];\n\t\t\t\t\t}\n\t\t\t\t\tsetDate();\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"disabledDates\": {\n\t\t\t\tget: function(){\n\t\t\t\t\treturn disabledDates.map(function(x){return new Date(x);});\n\t\t\t\t},\n\t\t\t\tset: function(x){\n\t\t\t\t\tif(x instanceof Array){\n\t\t\t\t\t\tx.forEach(function(date) {\n\t\t\t\t\t\t\tif(date instanceof Date){\n\t\t\t\t\t\t\t\tdisabledDates.push(new Date(date.getFullYear(),date.getMonth(),date.getDate()).getTime());\n\t\t\t\t\t\t\t}\t\t\t\t\t\t\t\n\t\t\t\t\t\t});\n\t\t\t\t\t}else if(x instanceof Date){\n\t\t\t\t\t\tdisabledDates = [new Date(x.getFullYear(),x.getMonth(),x.getDate()).getTime()];\n\t\t\t\t\t}else if(!x){\n\t\t\t\t\t\tdisabledDates = [];\n\t\t\t\t\t}\n\t\t\t\t\tsetDate();\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"highlight\": {\n\t\t\t\tget: function(){\n\t\t\t\t\treturn highlight;\n\t\t\t\t},\n\t\t\t\tset: function(x){\n\t\t\t\t\tif(x instanceof Array){\n\t\t\t\t\t\tx.forEach(function(hl) {\n\t\t\t\t\t\t\tif(hl instanceof Object){\n\t\t\t\t\t\t\t\tvar highlightObj = {};\n\t\t\t\t\t\t\t\t\thighlightObj.dates = [];\n\n\t\t\t\t\t\t\t\tif('start' in hl){\n\t\t\t\t\t\t\t\t\thighlightObj.dates.push({\n\t\t\t\t\t\t\t\t\t\tstart: new Date(hl.start.getFullYear(),hl.start.getMonth(),hl.start.getDate()),\n\t\t\t\t\t\t\t\t\t\tend: ('end' in hl)?new Date(hl.end.getFullYear(),hl.end.getMonth(),hl.end.getDate()):new Date(hl.start.getFullYear(),hl.start.getMonth(),hl.start.getDate())\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}else if('dates' in hl && hl.dates instanceof Array){\n\t\t\t\t\t\t\t\t\thl.dates.forEach(function(hlDate) {\n\t\t\t\t\t\t\t\t\t\thighlightObj.dates.push({\n\t\t\t\t\t\t\t\t\t\t\tstart: new Date(hlDate.start.getFullYear(),hlDate.start.getMonth(),hlDate.start.getDate()),\n\t\t\t\t\t\t\t\t\t\t\tend: ('end' in hlDate)?new Date(hlDate.end.getFullYear(),hlDate.end.getMonth(),hlDate.end.getDate()):new Date(hlDate.start.getFullYear(),hlDate.start.getMonth(),hlDate.start.getDate())\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\thighlightObj.color \t\t\t\t= hl.color;\n\t\t\t\t\t\t\t\thighlightObj.backgroundColor \t= hl.backgroundColor;\n\t\t\t\t\t\t\t\thighlightObj.legend\t\t\t\t= ('legend' in hl)?hl.legend:null;\n\t\t\t\t\t\t\t\thighlightObj.circleClassName \t= hl.circleClassName;\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\thighlight.push(highlightObj);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}else if(x instanceof Object){\n\t\t\t\t\t\tvar highlightObj = {};\n\t\t\t\t\t\thighlightObj.dates = [];\n\n\t\t\t\t\t\tif('start' in x){\n\t\t\t\t\t\t\thighlightObj.dates.push({\n\t\t\t\t\t\t\t\tstart: new Date(x.start.getFullYear(),x.start.getMonth(),x.start.getDate()),\n\t\t\t\t\t\t\t\tend: ('end' in x)?new Date(x.end.getFullYear(),x.end.getMonth(),x.end.getDate()):new Date(x.start.getFullYear(),x.start.getMonth(),x.start.getDate())\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}else if('dates' in x && x.dates instanceof Array){\n\t\t\t\t\t\t\tx.dates.forEach(function(hlDate) {\n\t\t\t\t\t\t\t\thighlightObj.dates.push({\n\t\t\t\t\t\t\t\t\tstart: new Date(hlDate.start.getFullYear(),hlDate.start.getMonth(),hlDate.start.getDate()),\n\t\t\t\t\t\t\t\t\tend: ('end' in hlDate)?new Date(hlDate.end.getFullYear(),hlDate.end.getMonth(),hlDate.end.getDate()):new Date(hlDate.start.getFullYear(),hlDate.start.getMonth(),hlDate.start.getDate())\n\t\t\t\t\t\t\t\t});\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\thighlightObj.color \t\t\t\t= x.color;\n\t\t\t\t\t\thighlightObj.backgroundColor \t= x.backgroundColor;\n\t\t\t\t\t\thighlightObj.legend\t\t\t\t= ('legend' in x)?x.legend:null;\n\n\t\t\t\t\t\thighlight.push(highlightObj);\n\t\t\t\t\t}else if(!x){\n\t\t\t\t\t\thighlight = [];\n\t\t\t\t\t}\n\n\t\t\t\t\tsetDate();\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"onClose\": {\n\t\t\t\tset: function(callback){\n\t\t\t\t\tonClose = callback;\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"onSelect\": {\n\t\t\t\tset: function(callback){\n\t\t\t\t\tonSelect = callback;\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"today\": {\n\t\t\t\tget: function(){\n\t\t\t\t\treturn today;\n\t\t\t\t},\n\t\t\t\tset: function(x){\n\t\t\t\t\tif(x){\n\t\t\t\t\t\ttoday = true;\n\t\t\t\t\t}else{\n\t\t\t\t\t\ttoday = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"daynames\": {\n\t\t\t\tget: function(){\n\t\t\t\t\treturn daynames;\n\t\t\t\t},\n\t\t\t\tset: function(x){\n\t\t\t\t\tif(x){\n\t\t\t\t\t\tdaynames = true;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tdaynames = false;\n\t\t\t\t\t}\n\t\t\t\t\tgenerateDaynames();\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"fullscreen\": {\n\t\t\t\tget: function(){\n\t\t\t\t\treturn that.el.classList.contains('fullscreen');\n\t\t\t\t},\n\t\t\t\tset: function(x){\n\t\t\t\t\tif(x){\n\t\t\t\t\t\tthat.el.classList.add('fullscreen');\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthat.el.classList.remove('fullscreen');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"locked\": {\n\t\t\t\tget: function(){\n\t\t\t\t\treturn locked;\n\t\t\t\t},\n\t\t\t\tset: function(x){\n\t\t\t\t\tif(x){\n\t\t\t\t\t\tlocked = true;\n\t\t\t\t\t\tthat.el.tables.classList.add('locked');\n\t\t\t\t\t}else{\n\t\t\t\t\t\tlocked = false;\n\t\t\t\t\t\tthat.el.tables.classList.remove('locked');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"maxSelections\": {\n\t\t\t\tget: function(){\n\t\t\t\t\treturn maxSelections;\n\t\t\t\t},\n\t\t\t\tset: function(x){\n\t\t\t\t\tif(typeof x == 'number' && !range){\n\t\t\t\t\t\tmaxSelections = x;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tif(range){\n\t\t\t\t\t\t\tmaxSelections = 2;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tmaxSelections = null;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"onConfirm\": {\n\t\t\t\tset: function(callback){\n\t\t\t\t\tif(typeof callback == 'function'){\n\t\t\t\t\t\tonConfirm = callback.bind(that);\n\t\t\t\t\t\tthat.el.button.addEventListener(eventName,onConfirm);\n\t\t\t\t\t}else if(!callback){\n\t\t\t\t\t\tthat.el.button.removeEventListener(eventName,onConfirm);\n\t\t\t\t\t\tonConfirm = null;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"closeOnClick\": {\n\t\t\t\tget: function(){\n\t\t\t\t\treturn closeOnClick;\n\t\t\t\t},\n\t\t\t\tset: function(x){\n\t\t\t\t\tif(x){\n\t\t\t\t\t\tcloseOnClick = true;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tcloseOnClick = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"tooltips\": {\n\t\t\t\tget: function(){\n\t\t\t\t\tvar ret = [];\n\t\t\t\t\tfor(key in tooltips){\n\t\t\t\t\t\tret.push({\n\t\t\t\t\t\t\tdate: new Date(parseInt(key)),\n\t\t\t\t\t\t\ttext: tooltips[key]\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\treturn ret;\n\t\t\t\t},\n\t\t\t\tset: function(x){\n\t\t\t\t\tif(x instanceof Array){\n\t\t\t\t\t\tx.forEach(function(item) {\n\t\t\t\t\t\t\tif(item.date && item.text && item.date instanceof Date){\n\t\t\t\t\t\t\t\ttooltips[new Date(item.date.getFullYear(),item.date.getMonth(),item.date.getDate()).getTime()] = item.text;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}else if(x instanceof Object){\n\t\t\t\t\t\tif(x.date && x.text && x.date instanceof Date){\n\t\t\t\t\t\t\ttooltips[new Date(x.date.getFullYear(),x.date.getMonth(),x.date.getDate()).getTime()] = x.text;\n\t\t\t\t\t\t}\n\t\t\t\t\t}else if(!x){\n\t\t\t\t\t\ttooltips = [];\n\t\t\t\t\t}\n\t\t\t\t\tsetDate();\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"currentDate\": {\n\t\t\t\tget: currentDateGetter,\n\t\t\t\tset: currentDateSetter\n\t\t\t},\n\t\t\t\"setDate\": {\n\t\t\t\tset: currentDateSetter\n\t\t\t},\n\t\t\t\"startDate\": {\n\t\t\t\tget: function(){\n\t\t\t\t\treturn startDate;\n\t\t\t\t},\n\t\t\t\tset: function(x){\n\t\t\t\t\tif(x){\n\t\t\t\t\t\tstartDate = new Date(x);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tstartDate = null;\n\t\t\t\t\t\tcurrentYear = new Date().getFullYear();\n\t\t\t\t\t\tcurrentMonth = new Date().getMonth() + 1;\n\t\t\t\t\t}\n\t\t\t\t\tsetDate();\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"minDate\": {\n\t\t\t\tget: function(){\n\t\t\t\t\treturn minDate;\n\t\t\t\t},\n\t\t\t\tset: function(x){\n\t\t\t\t\tminDate = new Date(x);\n\t\t\t\t\tsetDate();\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"maxDate\": {\n\t\t\t\tget: function(){\n\t\t\t\t\treturn maxDate;\n\t\t\t\t},\n\t\t\t\tset: function(x){\n\t\t\t\t\tmaxDate = new Date(x);\n\t\t\t\t\tsetDate();\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"container\": {\n\t\t\t\tget: function(){\n\t\t\t\t\treturn container;\n\t\t\t\t},\n\t\t\t\tset: function(x){\n\t\t\t\t\tif(x instanceof String){\n\t\t\t\t\t\tvar y = document.querySelector(x);\n\t\t\t\t\t\tif(y){\n\t\t\t\t\t\t\tcontainer = y;\n\t\t\t\t\t\t\tif(container != document.body){\n\t\t\t\t\t\t\t\tthat.el.classList.add('wrapped');\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tthat.el.classList.remove('wrapped');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tconsole.error(\"Container doesn't exist\");\n\t\t\t\t\t\t}\n\t\t\t\t\t}else if(x instanceof HTMLElement){\n\t\t\t\t\t\tcontainer = x;\n\t\t\t\t\t\tif(container != document.body){\n\t\t\t\t\t\t\tthat.el.classList.add('wrapped');\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tthat.el.classList.remove('wrapped');\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tconsole.error(\"Invalid type\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"inline\": {\n\t\t\t\tget: function(){\n\t\t\t\t\treturn inline;\n\t\t\t\t},\n\t\t\t\tset: function(x){\n\t\t\t\t\tif(x){\n\t\t\t\t\t\tinline = true;\n\t\t\t\t\t\tthat.el.classList.add('inline');\n\t\t\t\t\t}else{\n\t\t\t\t\t\tinline = false;\n\t\t\t\t\t\tthat.el.classList.remove('inline');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\n\t\t});\n\n\t\tinit();\n\t\tsetDate();\n\n\t\treturn Object.freeze(that);\n\t};\n\t\n\tfunction addClass(element, className){\n\t\tvar name = element.className ? element.className : '';\n\t\tif(!isMatch(name, className)){\n\t\t\tname = name.concat(name.legnth ? ' ' : '', className);\n\t\t}\n\t\telement.className = name;\n\t}\n\t\n\tfunction isMatch(str, compare){\n\t\tvar regExp = new RegExp('^' + compare + '$');\n\t\treturn regExp.test(str);\n\t}\n\n\tfunction whichAnimationEvent(){\n\t    var t;\n\t    var el = document.createElement('fakeelement');\n\t    var transitions = {\n\t      'animation':'animationend',\n\t      'OAnimation':'oanimationend',\n\t      'MozAnimation':'animationend',\n\t      'WebkitAnimation':'webkitAnimationEnd',\n\t      '':'MSAnimationEnd'\n\t    };\n\n\t    for(t in transitions){\n\t        if( el.style[t] !== undefined ){\n\t            return transitions[t];\n\t        }\n\t    }\n\t}\n\n\tvar template = \t'<div class=\"d-title\"></div>' +\n\t\t\t\t\t'<div class=\"d-calendar\">' +\n\t\t\t\t\t\t'<div class=\"d-header\">' +\n\t\t\t\t\t\t\t'<i id=\"d-previous\"></i>' +\n\t\t\t\t\t\t\t'<p><span class=\"d-month\"></span><span class=\"d-year\"></span></p>' +\n\t\t\t\t\t\t\t'<i id=\"d-next\"></i>' +\n\t\t\t\t\t\t'</div>' +\n\t\t\t\t\t\t'<div class=\"d-month-picker\">' +\n\t\t\t\t\t\t\t'<div data-month=\"1\">1</div>' +\n\t\t\t\t\t\t\t'<div data-month=\"2\">2</div>' +\n\t\t\t\t\t\t\t'<div data-month=\"3\">3</div>' +\n\t\t\t\t\t\t\t'<div data-month=\"4\">4</div>' +\n\t\t\t\t\t\t\t'<div data-month=\"5\">5</div>' +\n\t\t\t\t\t\t\t'<div data-month=\"6\">6</div>' +\n\t\t\t\t\t\t\t'<div data-month=\"7\">7</div>' +\n\t\t\t\t\t\t\t'<div data-month=\"8\">8</div>' +\n\t\t\t\t\t\t\t'<div data-month=\"9\">9</div>' +\n\t\t\t\t\t\t\t'<div data-month=\"10\">10</div>' +\n\t\t\t\t\t\t\t'<div data-month=\"11\">11</div>' +\n\t\t\t\t\t\t\t'<div data-month=\"12\">12</div>' +\n\t\t\t\t\t\t'</div>' + \n\t\t\t\t\t\t'<div class=\"d-year-picker\">' + \n\t\t\t\t\t\t\t'<div data-year=\"-5\"></div>' +\n\t\t\t\t\t\t\t'<div data-year=\"-4\"></div>' +\n\t\t\t\t\t\t\t'<div data-year=\"-3\"></div>' +\n\t\t\t\t\t\t\t'<div data-year=\"-2\"></div>' +\n\t\t\t\t\t\t\t'<div data-year=\"-1\"></div>' +\n\t\t\t\t\t\t\t'<div data-year=\"0\"></div>' +\n\t\t\t\t\t\t\t'<div data-year=\"1\"></div>' +\n\t\t\t\t\t\t\t'<div data-year=\"2\"></div>' +\n\t\t\t\t\t\t\t'<div data-year=\"3\"></div>' +\n\t\t\t\t\t\t\t'<div data-year=\"4\"></div>' +\n\t\t\t\t\t\t\t'<div data-year=\"5\"></div>' +\n\t\t\t\t\t\t'</div>' +\n\t\t\t\t\t\t'<div class=\"d-weekdays\"></div>' +\n\t\t\t\t\t\t'<div class=\"d-tables\"></div>' +\n\t\t\t\t\t'</div>' + \n\t\t\t\t\t'<div class=\"d-legend\"></div>' +\n\t\t\t\t\t'<button class=\"d-confirm\"></button>' + \n\t\t\t\t\t'<div class=\"d-overlay\"></div>';\n\n\tvar getBrowserVersion =  function(){\n\t\tvar browser = {\n\t\t\ttype: null,\n\t\t\tversion: null\n\t\t}\n\n\t\tvar ua= navigator.userAgent, tem, ios,\n\t    M= ua.match(/(opera|chrome|safari|firefox|msie|trident(?=\\/))\\/?\\s*(\\d+)/i) || [];\n\t    ios = ua.match(/(iphone|ipad)\\s+OS\\s+([\\d+_]+\\d+)/i) || [];\n\t    if(/trident/i.test(M[1])){\n\t        tem=  /\\brv[ :]+(\\d+)/g.exec(ua) || [];\n\t        browser.type = 'MSIE';\n\t        browser.version = parseInt(tem[1]);\n\t        return browser;\n\t    }\n\t    if(M[1]=== 'Chrome'){\n\t        tem= ua.match(/\\bOPR\\/(\\d+)/)\n\t        if(tem!= null) return 'Opera '+tem[1];\n\t    }\n\t    if(ios[1]){\n\t    \treturn browser = {\n\t    \t\ttype: 'iOS',\n\t    \t\tversion: ios[2]\n\t    \t};\n\t    }\n\t    M= M[2]? [M[1], M[2]]: [navigator.appName, navigator.appVersion, '-?'];\n\t    if((tem= ua.match(/version\\/(\\d+)/i))!= null) M.splice(1, 1, tem[1]);\n\t    browser.type = M[0];\n\t    browser.version = parseInt(M[1]);\n\n\t    return browser;\n\t}\n\n\t/* Spread it to the world! */\n\tif ( typeof define === 'function' && define.amd ) define('Datepickk', Datepickk);\n\telse if ( typeof exports === 'object' ) module.exports = Datepickk;\n\telse window.Datepickk = Datepickk;\n})();"],"sourceRoot":"/source/"}